<!DOCTYPE html>
<html lang="en-US" xmlns:tui>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="content-type" content="text/html;charset=utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
		<title>Test</title>
		
		<link rel="stylesheet" href="font-awesome-4.3.0/css/font-awesome.css">
		<link rel="stylesheet" href="css/tui2.css" />
		
		<script type="text/javascript" src="es5-shim.js"></script>
		<script type="text/javascript" src="jquery-1.11.3.js"></script>
        <script type="text/javascript" src="tui2.js"></script>
		<script>
			$(function(){
				var data = [];
				function build(list, level) {
					for (var i = 0; i < 3; i++) {
						var child = {name: "name column: " + level + "_" + i, 
							value: "value " + level + "_" + i,
							expand: true, 
							checked: false,
							icon: "fa-user"
						};
						list.push(child);
						
						if (level < 2 && Math.round(Math.random())) {
							child.children = [];
							build(child.children, level+1)
						}
					}
				}
				build(data, 0);
				
				
				$get("grid").set("tree", data);
				$get("grid").set("columns", [
					{name: "name column", key: "name", arrow: true, type: "tristate", checkKey: "checked", iconKey: "icon", width: 300}, 
					{name: "value column", key: "value", sortable: true},
					{name: "value column", key: "value", sortable: true},
					{name: "value column", key: "value"},
					{name: "value column", key: "value"},
					{name: "value column", key: "value"},
					{name: "value column", key: "value"},
					{name: "value column", key: "value"},
					{name: "value column", key: "value"}
				]);
				
				$get("grid").on("rowclick", function(e){
					//tui.msgbox("rowclick: " + e.data);
				});
				$get("grid").on("rowdblclick", function(e){
					tui.msgbox("rowdblclick: " + e.data);
				});
				$get("grid").on("rowcheck", function(e){
					tui.msgbox(e.data.row + " - " + e.data.col + ": " + e.data.checked, "Row checked");
				});

				
				tui.browser.keepToTop($("#toolbar")[0]);
				//tui.browser.keepToTop($get("grid").getComponent("head"), 60);
				$get("titleBtn").on("click", function(e){
					$get("grid").set("header", !$get("grid").get("header"));
				});
				$get("scrollBtn").on("click", function(e){
					$get("grid").set("autoWidth", !$get("grid").get("autoWidth"));
				});
			});
		</script>
		
	</head>
	<body>
		<div style="height:60px;">
			<div id="toolbar" style="background-color:#eee;height:60px;line-height:60px;text-align:center">
				一个工具栏
				<tui:button id="titleBtn" class="tui-primary">切换表头显示</tui:button>
				<tui:button id="scrollBtn">切换水平滚动</tui:button>
			</div>
		</div>
		<tui:grid id="grid" style="height:500px;"
			auto-height={false} 
			header={true}  
			auto-width={false}
			sort-column={1}
			sort-type="asc"
			></tui:grid>
		
		<div id="disp"></div>
	</body>
</html>